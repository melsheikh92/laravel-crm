document.addEventListener("DOMContentLoaded",function(){l()});function l(){d(),c(),u(),g()}function d(){const e=document.querySelector("main");e&&e.classList.add("onboarding-fade-in"),document.querySelectorAll("[data-step-item]").forEach((n,t)=>{n.classList.add(`onboarding-fade-in-delay-${Math.min(t+1,3)}`)})}function c(){document.querySelectorAll("input, textarea, select").forEach(o=>{o.classList.add("onboarding-transition"),o.addEventListener("focus",function(){this.classList.add("onboarding-focus-ring")}),o.addEventListener("blur",function(){this.classList.remove("onboarding-focus-ring")}),o.addEventListener("invalid",function(n){n.preventDefault(),this.classList.add("onboarding-shake"),setTimeout(()=>{this.classList.remove("onboarding-shake")},500)})})}function u(){document.querySelectorAll('button[type="submit"], .onboarding-button').forEach(o=>{o.classList.add("onboarding-button"),o.addEventListener("click",function(n){const t=document.createElement("span"),r=this.getBoundingClientRect(),i=Math.max(r.width,r.height),a=n.clientX-r.left-i/2,s=n.clientY-r.top-i/2;t.style.width=t.style.height=i+"px",t.style.left=a+"px",t.style.top=s+"px",t.classList.add("absolute","rounded-full","bg-white","opacity-50","animate-ping"),this.appendChild(t),setTimeout(()=>t.remove(),600)})})}function g(){const e=document.querySelector("[data-step-container]");e&&e.classList.add("onboarding-slide-in")}window.showLoadingOverlay=function(e="Processing..."){const o=document.querySelector(".onboarding-loading-overlay");o&&o.remove();const n=document.createElement("div");return n.className="onboarding-loading-overlay",n.innerHTML=`
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 text-center">
            <div class="flex justify-center mb-4">
                <svg class="onboarding-spinner h-12 w-12 text-blue-600 dark:text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            </div>
            <p class="text-lg font-medium text-gray-900 dark:text-white">${e}</p>
            <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">Please wait...</p>
        </div>
    `,document.body.appendChild(n),n};window.hideLoadingOverlay=function(){const e=document.querySelector(".onboarding-loading-overlay");e&&(e.style.opacity="0",setTimeout(()=>e.remove(),300))};window.showSuccessAnimation=function(e="Success!",o=null){const n=document.createElement("div");n.className="onboarding-loading-overlay",n.innerHTML=`
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 text-center onboarding-success-pulse">
            <div class="flex justify-center mb-4">
                <div class="h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center">
                    <svg class="h-10 w-10 text-green-600 dark:text-green-500 onboarding-checkmark" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="stroke-dasharray: 100; stroke-dashoffset: 100;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                    </svg>
                </div>
            </div>
            <p class="text-xl font-bold text-gray-900 dark:text-white">${e}</p>
        </div>
    `,document.body.appendChild(n),f(),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>{n.remove(),o&&o()},300)},2e3)};function f(){const e=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"];for(let n=0;n<50;n++){const t=document.createElement("div");t.className="onboarding-confetti",t.style.left=Math.random()*100+"vw",t.style.backgroundColor=e[Math.floor(Math.random()*e.length)],t.style.animationDelay=Math.random()*.5+"s",t.style.animationDuration=Math.random()*2+2+"s",t.style.top="-10px",document.body.appendChild(t),setTimeout(()=>t.remove(),5e3)}}window.showErrorAnimation=function(e,o=null){e&&(e.classList.add("onboarding-shake","onboarding-error-pulse"),setTimeout(()=>{e.classList.remove("onboarding-shake","onboarding-error-pulse")},1e3)),o&&showNotification(o,"error")};window.showNotificationEnhanced=function(e,o="info",n=5e3){const t=document.createElement("div");t.className=`fixed top-4 right-4 z-50 max-w-sm rounded-lg shadow-lg p-4 onboarding-notification-slide-in ${o==="success"?"bg-green-50 text-green-800 border border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800":o==="error"?"bg-red-50 text-red-800 border border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800":o==="warning"?"bg-yellow-50 text-yellow-800 border border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-800":"bg-blue-50 text-blue-800 border border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800"}`;const r={success:'<svg class="h-5 w-5 text-green-600 dark:text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>',error:'<svg class="h-5 w-5 text-red-600 dark:text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/></svg>',warning:'<svg class="h-5 w-5 text-yellow-600 dark:text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/></svg>',info:'<svg class="h-5 w-5 text-blue-600 dark:text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/></svg>'};return t.innerHTML=`
        <div class="flex items-start">
            <div class="flex-shrink-0">
                ${r[o]||r.info}
            </div>
            <div class="ml-3 flex-1">
                <p class="text-sm font-medium">${e}</p>
            </div>
            <button type="button" class="ml-4 inline-flex flex-shrink-0 rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" onclick="this.closest('.onboarding-notification-slide-in').remove()">
                <span class="sr-only">Close</span>
                <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
            </button>
        </div>
    `,document.body.appendChild(t),setTimeout(()=>{t.style.opacity="0",t.style.transform="translateX(100%)",setTimeout(()=>t.remove(),300)},n),t};window.animateStepCompletion=function(e){if(e){const o=e.querySelector("[data-step-checkmark]");o&&o.classList.add("onboarding-step-complete"),e.classList.add("onboarding-celebrate"),setTimeout(()=>{e.classList.remove("onboarding-celebrate")},500)}};window.setButtonLoadingState=function(e,o=!0,n=null){e&&(o?(e.dataset.originalText=e.innerHTML,e.disabled=!0,e.innerHTML=`
            <svg class="onboarding-spinner inline-block h-4 w-4 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            ${n||"Processing..."}
        `):(e.disabled=!1,e.innerHTML=e.dataset.originalText||"Continue",delete e.dataset.originalText))};window.smoothScrollTo=function(e,o=0){if(!e)return;const t=e.getBoundingClientRect().top+window.pageYOffset-o;window.scrollTo({top:t,behavior:"smooth"})};window.scrollToFirstError=function(){const e=document.querySelector(".border-red-500, .error-message");e&&(smoothScrollTo(e,100),e.classList.add("onboarding-shake"),setTimeout(()=>{e.classList.remove("onboarding-shake")},500))};window.validateFormWithAnimation=function(e){if(!e)return!1;const o=e.querySelectorAll("input[required], textarea[required], select[required]");let n=!0,t=null;return o.forEach(r=>{r.value.trim()||(n=!1,r.classList.add("border-red-500","dark:border-red-500","onboarding-shake"),t||(t=r),setTimeout(()=>{r.classList.remove("onboarding-shake")},500))}),!n&&t&&(smoothScrollTo(t,100),t.focus()),n};window.animateCounter=function(e,o,n,t=1e3){if(!e)return;const i=(n-o)/(t/16);let a=o;const s=setInterval(()=>{a+=i,(i>0&&a>=n||i<0&&a<=n)&&(a=n,clearInterval(s)),e.textContent=Math.round(a)},16)};window.onboardingAnimations={showLoadingOverlay,hideLoadingOverlay,showSuccessAnimation,showErrorAnimation,showNotificationEnhanced,animateStepCompletion,setButtonLoadingState,smoothScrollTo,scrollToFirstError,validateFormWithAnimation,animateCounter};
