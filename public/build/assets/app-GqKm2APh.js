import{a as y,_,c as o,b as e,d as w,w as k,e as h,v as x,f as p,g as R,T as q,o as r,F as c,t as u,r as v,n as m,h as g,i as I}from"./_plugin-vue_export-helper-CR0wRhjk.js";window.axios=y;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const C={name:"DocumentationSearch",data(){return{query:"",searchResults:[],popularArticles:[],loading:!1,showResults:!1,highlightedIndex:-1,searchTimeout:null}},mounted(){this.fetchPopularArticles(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside),this.searchTimeout&&clearTimeout(this.searchTimeout)},methods:{handleInput(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.query.length>=2?(this.loading=!0,this.highlightedIndex=-1,this.searchTimeout=setTimeout(()=>{this.performSearch()},300)):(this.searchResults=[],this.loading=!1)},async performSearch(){try{const l=await axios.post("/api/docs/search",{query:this.query,limit:10});l.data.success?this.searchResults=l.data.data.results:this.searchResults=[]}catch(l){l.response&&l.response.status===500?this.searchResults=this.getDemoResults():(console.error("Search error:",l),this.searchResults=[])}finally{this.loading=!1}},async fetchPopularArticles(){try{const l=await axios.get("/api/docs/popular",{params:{limit:5}});l.data.success&&(this.popularArticles=l.data.data.results)}catch(l){l.response&&l.response.status===500?this.popularArticles=this.getDemoPopularArticles():(console.error("Failed to fetch popular articles:",l),this.popularArticles=[])}},highlightNext(){const l=this.query.length>=2?this.searchResults.length-1:this.popularArticles.length-1;this.highlightedIndex<l?this.highlightedIndex++:this.highlightedIndex=0},highlightPrevious(){const l=this.query.length>=2?this.searchResults.length-1:this.popularArticles.length-1;this.highlightedIndex>0?this.highlightedIndex--:this.highlightedIndex=l},navigateToHighlighted(){if(this.highlightedIndex>=0){const s=(this.query.length>=2?this.searchResults:this.popularArticles)[this.highlightedIndex];s&&s.url&&(window.location.href=s.url)}},closeResults(){this.showResults=!1},handleClickOutside(l){this.$el&&!this.$el.contains(l.target)&&this.closeResults()},getDemoResults(){return[{id:1,title:"Getting Started Guide",slug:"getting-started",excerpt:"Learn how to set up and configure the CRM in minutes.",type:"getting-started",category:{name:"Getting Started"},reading_time_minutes:5,has_video:!0,view_count:150,helpful_count:45,url:"/docs/1"},{id:2,title:"Managing Leads",slug:"managing-leads",excerpt:"Complete guide to lead management and conversion.",type:"feature-guide",category:{name:"Features"},reading_time_minutes:8,has_video:!1,view_count:89,helpful_count:32,url:"/docs/2"}]},getDemoPopularArticles(){return[{id:1,title:"Getting Started Guide",slug:"getting-started",excerpt:"Learn how to set up and configure the CRM.",view_count:150,url:"/docs/1"},{id:2,title:"Managing Contacts",slug:"managing-contacts",excerpt:"Organize and manage your contacts efficiently.",view_count:120,url:"/docs/2"},{id:3,title:"Creating Quotes",slug:"creating-quotes",excerpt:"Create professional quotes for your prospects.",view_count:95,url:"/docs/3"}]}}},T={class:"documentation-search"},A={class:"search-input-wrapper"},S={key:0,class:"search-spinner"},M={key:0,class:"search-results"},D={key:0,class:"search-loading"},b={key:0,class:"results-section"},L={class:"results-header"},B={class:"results-count"},N={class:"results-query"},P={class:"results-list"},F=["href","onMouseenter"],V={class:"result-icon"},z={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},E={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},G={key:2,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},H={key:3,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},O={class:"result-content"},U={class:"result-title"},K={class:"result-excerpt"},W={class:"result-meta"},X={key:0,class:"result-category"},j={key:1,class:"result-time"},Q={key:2,class:"result-video"},J={class:"no-results"},Y={class:"popular-section"},Z={class:"results-list"},$=["href","onMouseenter"],ee={class:"result-content"},se={class:"result-title"},te={class:"result-meta"},ie={class:"result-views"},le={key:3,class:"search-tips"},oe={key:4,class:"search-footer"};function re(l,s,he,ue,i,n){return r(),o("div",T,[e("div",A,[k(e("input",{ref:"searchInput",type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>i.query=t),onInput:s[1]||(s[1]=(...t)=>n.handleInput&&n.handleInput(...t)),onFocus:s[2]||(s[2]=t=>i.showResults=!0),onKeydown:[s[3]||(s[3]=p((...t)=>n.highlightNext&&n.highlightNext(...t),["down"])),s[4]||(s[4]=p((...t)=>n.highlightPrevious&&n.highlightPrevious(...t),["up"])),s[5]||(s[5]=p((...t)=>n.navigateToHighlighted&&n.navigateToHighlighted(...t),["enter"])),s[6]||(s[6]=p((...t)=>n.closeResults&&n.closeResults(...t),["escape"]))],placeholder:"Search documentation...",autocomplete:"off",class:"search-input"},null,544),[[x,i.query]]),i.loading?(r(),o("div",S)):h("v-if",!0)]),w(q,{name:"fade"},{default:R(()=>[i.showResults&&(i.query.length>=2||i.popularArticles.length)?(r(),o("div",M,[h(" Loading State "),i.loading?(r(),o("div",D,[...s[9]||(s[9]=[e("div",{class:"loading-spinner"},null,-1),e("span",null,"Searching...",-1)])])):i.query.length>=2?(r(),o(c,{key:1},[h(" Search Results "),e("div",null,[i.searchResults.length>0?(r(),o("div",b,[e("div",L,[e("span",B,u(i.searchResults.length)+" results",1),e("span",N,'for "'+u(i.query)+'"',1)]),e("div",P,[(r(!0),o(c,null,v(i.searchResults,(t,a)=>(r(),o("a",{key:t.id,href:t.url,class:m(["result-item",{highlighted:i.highlightedIndex===a}]),onMouseenter:d=>i.highlightedIndex=a,onClick:s[7]||(s[7]=(...d)=>n.closeResults&&n.closeResults(...d))},[e("div",V,[t.type==="getting-started"?(r(),o("svg",z,[...s[10]||(s[10]=[e("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"},null,-1)])])):t.type==="api-doc"?(r(),o("svg",E,[...s[11]||(s[11]=[e("polyline",{points:"16 18 22 12 16 6"},null,-1),e("polyline",{points:"8 6 2 12 8 18"},null,-1)])])):t.type==="feature-guide"?(r(),o("svg",G,[...s[12]||(s[12]=[e("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},null,-1)])])):(r(),o("svg",H,[...s[13]||(s[13]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},null,-1),e("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"},null,-1)])]))]),e("div",O,[e("div",U,u(t.title),1),e("div",K,u(t.excerpt),1),e("div",W,[t.category?(r(),o("span",X,u(t.category.name),1)):h("v-if",!0),t.reading_time_minutes?(r(),o("span",j,u(t.reading_time_minutes)+" min read",1)):h("v-if",!0),t.has_video?(r(),o("span",Q,"Video")):h("v-if",!0)])])],42,F))),128))])])):(r(),o(c,{key:1},[h(" No Results "),e("div",J,[s[14]||(s[14]=e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),e("p",null,'No results found for "'+u(i.query)+'"',1),s[15]||(s[15]=e("p",{class:"no-results-suggestion"},"Try different keywords or check popular articles below",-1))])],2112))])],2112)):i.popularArticles.length>0?(r(),o(c,{key:2},[h(" Popular Articles (shown when query is empty) "),e("div",Y,[s[17]||(s[17]=e("div",{class:"results-header"},[e("span",{class:"results-title"},"Popular Articles")],-1)),e("div",Z,[(r(!0),o(c,null,v(i.popularArticles,(t,a)=>(r(),o("a",{key:t.id,href:t.url,class:m(["result-item popular-item",{highlighted:i.highlightedIndex===a}]),onMouseenter:d=>i.highlightedIndex=a,onClick:s[8]||(s[8]=(...d)=>n.closeResults&&n.closeResults(...d))},[s[16]||(s[16]=e("div",{class:"result-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})])],-1)),e("div",ee,[e("div",se,u(t.title),1),e("div",te,[e("span",ie,u(t.view_count)+" views",1)])])],42,$))),128))])])],2112)):h("v-if",!0),h(" Search Tips "),i.query.length<2&&i.query.length>0?(r(),o("div",le,[...s[18]||(s[18]=[e("div",{class:"tip-header"},"Search Tips",-1),e("ul",{class:"tip-list"},[e("li",null,"Type at least 2 characters to search"),e("li",null,"Use specific keywords for better results"),e("li",null,"Check popular articles below")],-1)])])):h("v-if",!0),h(" Footer "),i.query.length>=2?(r(),o("div",oe,[...s[19]||(s[19]=[e("span",null,[g("Use "),e("kbd",null,"↑"),g(),e("kbd",null,"↓"),g(" to navigate")],-1),e("span",null,[e("kbd",null,"Enter"),g(" to select")],-1),e("span",null,[e("kbd",null,"Esc"),g(" to close")],-1)])])):h("v-if",!0)])):h("v-if",!0)]),_:1})])}const ne=_(C,[["render",re],["__scopeId","data-v-ed46725c"],["__file","/Users/mahmoudelsheikh/Downloads/Workspace/laravel-crm/.auto-claude/worktrees/tasks/011-comprehensive-documentation-hub/resources/js/components/DocumentationSearch.vue"]]),f=I({});f.component("documentation-search",ne);f.mount("#vue-app");
